# ==============================================================================
# LYRICLESS - DOCKER ENVIRONMENT CONFIGURATION
# ==============================================================================
# Copy this file to .env.docker and customize for your deployment

# ==============================================================================
# Application Settings
# ==============================================================================
NODE_ENV=production
APP_PORT=3000
HOSTNAME=0.0.0.0
NEXT_TELEMETRY_DISABLED=1

# ==============================================================================
# Database Configuration
# ==============================================================================
DATABASE_URL=file:/app/data/database.db

# ==============================================================================
# Video Processing Settings
# ==============================================================================
TEMP_DIR=/app/temp
DOWNLOADS_DIR=/app/downloads
MAX_VIDEO_SIZE=500MB
MAX_CONCURRENT_DOWNLOADS=3
CLEANUP_TEMP_FILES=true
CLEANUP_INTERVAL=3600

# ==============================================================================
# Puppeteer Configuration
# ==============================================================================
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD=true
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser
CHROME_FLAGS=--no-sandbox,--disable-setuid-sandbox,--disable-dev-shm-usage,--disable-accelerated-2d-canvas,--no-first-run,--no-zygote,--disable-gpu

# ==============================================================================
# yt-dlp Configuration
# ==============================================================================
YTDLP_OUTPUT_TEMPLATE=/app/temp/%(title)s.%(ext)s
YTDLP_MAX_QUALITY=1080p
YTDLP_CONCURRENT_FRAGMENTS=4
YTDLP_EXTRACT_FLAT=false

# ==============================================================================
# FFmpeg Configuration
# ==============================================================================
FFMPEG_BINARY=/usr/bin/ffmpeg
FFPROBE_BINARY=/usr/bin/ffprobe

# ==============================================================================
# Security Settings
# ==============================================================================
CORS_ORIGINS=*
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=3600000
ENABLE_RATE_LIMITING=true

# ==============================================================================
# Docker Compose Settings
# ==============================================================================
# Nginx ports
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# Volume mount paths (customize these for your host system)
DATA_PATH=./data
DOWNLOADS_PATH=./downloads
LOGS_PATH=./logs

# ==============================================================================
# Monitoring and Analytics
# ==============================================================================
LOG_LEVEL=info
ENABLE_ANALYTICS=true
ENABLE_METRICS=false

# ==============================================================================
# Redis Configuration (if using cache profile)
# ==============================================================================
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=
REDIS_DB=0

# ==============================================================================
# Grafana Configuration (if using monitoring profile)
# ==============================================================================
GRAFANA_PASSWORD=admin123
GRAFANA_ADMIN_USER=admin

# ==============================================================================
# SSL/TLS Configuration (for production with HTTPS)
# ==============================================================================
SSL_ENABLED=false
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem
SSL_DHPARAM_PATH=/etc/nginx/ssl/dhparam.pem

# ==============================================================================
# Resource Limits
# ==============================================================================
# Memory limits for containers
APP_MEMORY_LIMIT=4G
APP_MEMORY_RESERVATION=512M

# CPU limits
APP_CPU_LIMIT=4.0
APP_CPU_RESERVATION=1.0

# ==============================================================================
# Backup and Maintenance
# ==============================================================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# ==============================================================================
# Development Overrides (when using development profile)
# ==============================================================================
DEV_DEBUG=lyricless:*
DEV_LOG_LEVEL=debug
DEV_ENABLE_ANALYTICS=false
DEV_MAX_VIDEO_SIZE=1GB
DEV_MAX_CONCURRENT_DOWNLOADS=5
DEV_CLEANUP_TEMP_FILES=false